import java.io.*;
import java.util.*;

class Solution {
    void medianInStream(Double arr[], int n)
    {
        // write code here
        PriorityQueue<Double> maxHeap=new PriorityQueue<>(Collections.reverseOrder());
        PriorityQueue<Double> minHeap=new PriorityQueue<>();

        for(int i=0;i<n;i++){
            Double val=arr[i];

            if(maxHeap.isEmpty() || val<=maxHeap.peek()){
                maxHeap.add(val);
            }else{
                minHeap.add(val);
            }

            if(maxHeap.size() > minHeap.size()+1){
                minHeap.add(maxHeap.remove());
            }else if(minHeap.size()>maxHeap.size()){
                maxHeap.add(minHeap.remove());
            }

            if(maxHeap.size()==minHeap.size()){
                Double medin=(maxHeap.peek()+minHeap.peek())/2.0;
                System.out.print(medin + " ");
            }else{
                System.out.print(maxHeap.peek() + " ");
            }
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n;
        n = sc.nextInt();
        Double arr1[] = new Double[n];
        for(int i=0;i<n;i++)
            arr1[i] = sc.nextDouble();
        Solution Obj = new Solution();
        Obj.medianInStream(arr1, n);
    }
}
